import{a as vt,c as q,d as gt,e as yt,g as U,k as St,n as xt}from"./chunk-G6K5526Z.js";import{G as ut,H as ht,N as ft,X as _t,Y as bt,Z as z,a as dt,n as mt,p as pt}from"./chunk-KSJPD3HX.js";import{d as lt,r as kt,s as N,u as E,v as H,w as V}from"./chunk-B2B2T4TM.js";import{$ as Z,$a as Y,Ab as M,Bb as rt,Cb as R,Db as st,Eb as ot,Gb as T,Hb as O,Ib as j,Mb as L,Ob as F,Qa as y,R as W,Ra as l,Rb as S,Ta as G,V as b,Y as D,_ as c,ac as ct,ba as k,cb as J,da as C,f as p,gb as P,jb as tt,ka as w,kb as et,la as A,ob as nt,qa as g,ta as $,tb as u,ua as K,ub as h,vb as it,wa as X,xb as B,zb as at}from"./chunk-PNCATDCG.js";import{a as f,i as _}from"./chunk-ODN5LVDJ.js";var d=class i extends dt{static create(a){return new i({status:this.getHttpStatusCode(a)})}static getHttpStatusCode(a){return a.hint?.startsWith("http")?Number(a.hint.split("http")[0]):(console.warn('http error code missing on PostgrestError "hint" field. Error will be interpreted as ServerError 500.'),500)}constructor(a){super(a)}},Ct=class{constructor(a,t){this.pageIndex=a;this.pageSize=t;if(a<1)throw new Error("PageIndex hast to be at 1 or greater.");if(t>50)throw new Error("Max pageSize is 50")}get postgresPageValues(){return{offset_val:(this.pageIndex-1)*this.pageSize,limit_val:this.pageSize}}},I=class{totalElementsCount=null;pageIndex;pageSize;totalPagesCount=null;data=[];constructor(a,t,e){this.pageIndex=a.pageIndex,this.pageSize=a.pageSize,t.length!==0&&(this.totalElementsCount=e[0].total_elements_count,this.totalPagesCount=Math.ceil(this.totalElementsCount/this.pageSize),this.data=t)}};var Pt=["*"],wt=class i{iconButtonOnClickEvent=new $;_isLoading=Y(!1);setIsLoading(a){this._isLoading.set(a)}getIsLoading(){return this._isLoading()}iconButtonOnClick(){this._isLoading()||this.iconButtonOnClickEvent.emit()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=k({type:i,selectors:[["app-loadable-icon-button"]],outputs:{iconButtonOnClickEvent:"iconButtonOnClickEvent"},standalone:!0,features:[S],ngContentSelectors:Pt,decls:4,vars:1,consts:[["deleteButton",""],["mat-icon-button","",3,"click","disabled"]],template:function(t,e){if(t&1){let n=B();st(),u(0,"button",1,0),M("click",function(){return w(n),A(e.iconButtonOnClick())}),u(2,"mat-icon"),ot(3),h()()}t&2&&et("disabled",e._isLoading())},dependencies:[z,bt,vt],changeDetection:0})};var At=class i{constructor(a){this.supabase=a}createList(a){return _(this,null,function*(){let{data:t,error:e}=yield this.supabase.instance.rpc("create_check_list",{name:a});if(e)throw d.create(e);return t})}updateCheckListName(a,t){return _(this,null,function*(){let{error:e}=yield this.supabase.instance.rpc("update_check_list_name",{p_id:a,p_name:t});if(e)throw d.create(e)})}getPageOfMyCheckLists(a){return _(this,null,function*(){let{data:t,error:e}=yield this.supabase.instance.rpc("get_my_check_lists_page",a.postgresPageValues);if(e)throw d.create(e);let n=t.map(s=>({id:s.id,name:s.name,createdAt:s.created_at}));return new I(a,n,t)})}getCheckListById(a){return _(this,null,function*(){let{data:t,error:e}=yield this.supabase.instance.rpc("get_check_list_by_id",{p_id:a});if(e)throw d.create(e);return t[0]})}deleteCheckListById(a){return _(this,null,function*(){let{error:t}=yield this.supabase.instance.rpc("delete_check_list",{p_id:a});if(t)throw d.create(t)})}static \u0275fac=function(t){return new(t||i)(c(mt))};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})};function Rt(i,a){if(i&1){let t=B();u(0,"div",1)(1,"button",2),M("click",function(){w(t);let n=R();return A(n.action())}),L(2),h()()}if(i&2){let t=R();y(2),F(" ",t.data.action," ")}}var Tt=["label"];function Ot(i,a){}var jt=Math.pow(2,31)-1,x=class{constructor(a,t){this._overlayRef=t,this._afterDismissed=new p,this._afterOpened=new p,this._onAction=new p,this._dismissedByAction=!1,this.containerInstance=a,a._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(a){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(a,jt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Bt=new D("MatSnackBarData"),v=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},Lt=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=C({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return i})(),Ft=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=C({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return i})(),zt=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=C({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return i})(),Nt=(()=>{class i{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(e){return new(e||i)(l(x),l(Bt))}}static{this.\u0275cmp=k({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[S],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,n){e&1&&(u(0,"div",0),L(1),h(),P(2,Rt,3,1,"div",1)),e&2&&(y(),F(" ",n.data.message,`
`),y(),nt(n.hasAction?2:-1))},dependencies:[_t,Lt,Ft,zt],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return i})(),Ht={snackBarState:kt("state",[H("void, hidden",E({transform:"scale(0.8)",opacity:0})),H("visible",E({transform:"scale(1)",opacity:1})),V("* => visible",N("150ms cubic-bezier(0, 0, 0.2, 1)")),V("* => void, * => hidden",N("75ms cubic-bezier(0.4, 0.0, 1, 1)",E({opacity:0})))])},Vt=0,qt=(()=>{class i extends yt{constructor(t,e,n,r,s){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=s,this._document=Z(lt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new p,this._onExit=new p,this._onEnter=new p,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${Vt++}`,this.attachDomPortal=o=>{this._assertNotAttached();let m=this._portalOutlet.attachDomPortal(o);return this._afterPortalAttached(),m},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),e}attachTemplatePortal(t){this._assertNotAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),e}onAnimationEnd(t){let{fromState:e,toState:n}=t;if((n==="void"&&e!=="void"||n==="hidden")&&this._completeExit(),n==="visible"){let r=this._onEnter;this._ngZone.run(()=>{r.next(),r.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(s=>t.classList.add(s)):t.classList.add(e)),this._exposeToModals();let n=this._label.nativeElement,r="mdc-snackbar__label";n.classList.toggle(r,!n.querySelector(`.${r}`))}_exposeToModals(){let t=this._liveElementId,e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<e.length;n++){let r=e[n],s=r.getAttribute("aria-owns");this._trackedModals.add(r),s?s.indexOf(t)===-1&&r.setAttribute("aria-owns",s+" "+t):r.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let e=t.getAttribute("aria-owns");if(e){let n=e.replace(this._liveElementId,"").trim();n.length>0?t.setAttribute("aria-owns",n):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),n?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(e){return new(e||i)(l(K),l(X),l(ct),l(pt),l(v))}}static{this.\u0275cmp=k({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,n){if(e&1&&(T(U,7),T(Tt,7)),e&2){let r;O(r=j())&&(n._portalOutlet=r.first),O(r=j())&&(n._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(e,n){e&1&&rt("@state.done",function(s){return n.onAnimationEnd(s)}),e&2&&at("@state",n._animationState)},standalone:!0,features:[J,S],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,n){e&1&&(u(0,"div",1)(1,"div",2,0)(3,"div",3),P(4,Ot,0,0,"ng-template",4),h(),it(5,"div"),h()()),e&2&&(y(5),tt("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[U],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[Ht.snackBarState]}})}}return i})();function Ut(){return new v}var Qt=new D("mat-snack-bar-default-options",{providedIn:"root",factory:Ut}),Mt=(()=>{class i{get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,e,n,r,s,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=s,this._defaultConfig=o,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Nt,this.snackBarContainerComponent=qt,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){let r=f(f({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=g.create({parent:n||this._injector,providers:[{provide:v,useValue:e}]}),s=new q(this.snackBarContainerComponent,e.viewContainerRef,r),o=t.attach(s);return o.instance.snackBarConfig=e,o.instance}_attach(t,e){let n=f(f(f({},new v),this._defaultConfig),e),r=this._createOverlay(n),s=this._attachSnackBarContainer(r,n),o=new x(s,r);if(t instanceof G){let m=new gt(t,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(m)}else{let m=this._createInjector(n,o),It=new q(t,void 0,m),Dt=s.attachComponentPortal(It);o.instance=Dt.instance}return this._breakpointObserver.observe(ht.HandsetPortrait).pipe(W(r.detachments())).subscribe(m=>{r.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){let e=new St;e.direction=t.direction;let n=this._overlay.position().global(),r=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!r||t.horizontalPosition==="end"&&r,o=!s&&t.horizontalPosition!=="center";return s?n.left("0"):o?n.right("0"):n.centerHorizontally(),t.verticalPosition==="top"?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){let n=t&&t.viewContainerRef&&t.viewContainerRef.injector;return g.create({parent:n||this._injector,providers:[{provide:x,useValue:e},{provide:Bt,useValue:t.data}]})}static{this.\u0275fac=function(e){return new(e||i)(c(xt),c(ft),c(g),c(ut),c(i,12),c(Qt))}}static{this.\u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Et=class i{constructor(a){this.matSnackbar=a}error(a){this.matSnackbar.open(a,"ok",{duration:5e3})}errorUnknown(){this.matSnackbar.open("Uppps, Looks like we don't handled this Error :( Good Luck","Thanks",{duration:7e3})}static \u0275fac=function(t){return new(t||i)(c(Mt))};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})};export{d as a,Ct as b,I as c,wt as d,At as e,Et as f};
